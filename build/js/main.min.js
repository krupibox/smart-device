"use strict";!function(){var l=document.querySelector("body"),e=l.querySelector(".inner"),t=e.querySelector(".button--callback"),a=e.querySelector(".overlay"),o=e.querySelector(".modal"),c=o.querySelector("img"),s=e.querySelector(".modal__form"),n=s.querySelector("[name=user-callback-name]"),r=s.querySelector("[name=user-callback-phone]"),u=s.querySelector("[name=user-callback-question]"),i=!0;try{n.value=localStorage.getItem("Name")}catch(e){i=!1}function d(e){e.preventDefault(),l.classList.remove("noscroll"),o.classList.add("modal--closed"),a.style.display="none"}t.addEventListener("click",function(e){o.classList.contains("modal--closed")&&(e.preventDefault(),o.classList.remove("modal--closed"),l.classList.add("noscroll"),a.style.display="block",i&&(n.value=localStorage.getItem("Name"),r.value=localStorage.getItem("Phone"),u.value=localStorage.getItem("Question")),n.value?r.focus():n.focus(),n.value&&r.value&&u.focus())}),s.addEventListener("submit",function(){i&&(localStorage.setItem("Name",n.value),localStorage.setItem("Phone",r.value),localStorage.setItem("Question",u.value))}),c.addEventListener("click",function(e){o.classList.contains("modal--closed")||d(e)}),a.addEventListener("click",function(e){o.classList.contains("modal--closed")||e.target!==a||d(e)}),window.addEventListener("keydown",function(e){27!==e.keyCode||o.classList.contains("modal--closed")||d(e)})}();